{"version":3,"sources":["file:///C:/Users/Administrator/MahjongDenfense/assets/scripts/GridManager.ts"],"names":["_decorator","Component","Node","Vec2","UITransform","ccclass","property","GridManager","getGridAtPoint","position","position2D","x","y","i","grids","length","grid","gridRect","getComponent","getBoundingBoxToWorld","contains"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;;;;;;;;OAC5C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;6BAGjBO,W,WADZF,OAAO,CAAC,aAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,2BAFb,MACaK,WADb,SACiCN,SADjC,CAC2C;AAAA;AAAA;;AAAA;AAAA;;AACK;AAE5C;AACOO,QAAAA,cAAc,CAACC,QAAD,EAA8B;AAC/C,gBAAMC,UAAU,GAAG,IAAIP,IAAJ,CAASM,QAAQ,CAACE,CAAlB,EAAqBF,QAAQ,CAACG,CAA9B,CAAnB;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,KAAL,CAAWC,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;AACxC,kBAAMG,IAAI,GAAG,KAAKF,KAAL,CAAWD,CAAX,CAAb;AACA,kBAAMI,QAAQ,GAAGD,IAAI,CAACE,YAAL,CAAkBd,WAAlB,EAA+Be,qBAA/B,EAAjB;;AACA,gBAAIF,QAAQ,CAACG,QAAT,CAAkBV,UAAlB,CAAJ,EAAmC;AAC/B,qBAAOM,IAAP,CAD+B,CAClB;AAChB;AACJ;;AACD,iBAAO,IAAP,CAT+C,CASlC;AAChB;;AAdsC,O;;;;;iBACC,E","sourcesContent":["\r\nimport { _decorator, Component, Node, Vec3, Vec2, UITransform } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GridManager')\r\nexport class GridManager extends Component {\r\n    @property(Node) private grids: Node[] = []; // 存放格子节点\r\n\r\n    // 根据麻将牌的位置，获取对应的格子\r\n    public getGridAtPoint(position: Vec3): Node | null {\r\n        const position2D = new Vec2(position.x, position.y);\r\n        for (let i = 0; i < this.grids.length; i++) {\r\n            const grid = this.grids[i];\r\n            const gridRect = grid.getComponent(UITransform).getBoundingBoxToWorld();\r\n            if (gridRect.contains(position2D)) {\r\n                return grid; // 返回匹配的格子\r\n            }\r\n        }\r\n        return null; // 如果没有格子包含此位置，返回null\r\n    }\r\n}\r\n"]}